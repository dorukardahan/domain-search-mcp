# Repository Guidelines

## Project Structure & Module Organization
- `src/` holds the MCP server and core logic. Key areas: `src/tools/` (tool definitions and executors), `src/services/` (orchestration), `src/registrars/` (API adapters), `src/fallbacks/` (RDAP/WHOIS), and `src/utils/` (cache, logging, errors, validators).
- `tests/` contains Jest tests, with unit tests under `tests/unit/`.
- `examples/` provides runnable scripts that exercise tools end-to-end.
- `docs/` contains API and configuration docs. `dist/` is generated by the build.
- Root config files: `package.json`, `tsconfig.json`, `jest.config.js`, `server.json` (MCP metadata).

## Build, Test, and Development Commands
- `npm run dev`: Run the server in watch mode with `tsx` for local iteration.
- `npm run build`: Compile TypeScript to `dist/`.
- `npm start`: Run the compiled server from `dist/`.
- `npm test`: Run the full Jest suite.
- `npm run test:unit` / `npm run test:integration`: Focused test runs.
- `npm run coverage`: Generate coverage output.
- `npm run lint`: Run ESLint on `src/**/*.ts` (add config if extending lint rules).
- `npm run clean`: Remove `dist/`.

## Coding Style & Naming Conventions
- TypeScript, ES modules, semicolons, and 2-space indentation.
- Keep import paths using `.js` extensions (matches ESM output).
- Tool modules follow a pattern: `*Tool`, `*Schema`, and `execute*` exports (e.g., `search_domain.ts`).
- Use `PascalCase` for types/interfaces, `camelCase` for functions, and kebab-case filenames.

## Testing Guidelines
- Framework: Jest (`jest.config.js`). Tests live in `tests/` and are named `*.test.ts`.
- Run a single test file with `npx jest tests/unit/cache.test.ts`.
- Keep unit tests fast and deterministic; integration tests can call real adapters when configured.

## Commit & Pull Request Guidelines
- Recent commits use Conventional Commits: `type: short summary` (e.g., `docs: ...`, `chore: ...`).
- PRs should include a clear description of changes, test evidence (command + result), and links to related issues if applicable.

## Configuration & Security Tips
- Use `.env` for secrets and keep it out of version control; required keys are listed in `README.md` and `docs/CONFIGURATION.md`.
- Registrar API keys are optional; the server falls back to RDAP/WHOIS when unset.
- Do not commit `.mcpregistry_*` token files.

## Agent-Specific Instructions
- Do not use MCP tools `coingecko`, `etherscan`, `mevzuat`, or `yargi` in this repository; rely on local files and standard shell commands instead.
